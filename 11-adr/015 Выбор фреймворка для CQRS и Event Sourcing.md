# ADR 015: Выбор фреймворка для CQRS и Event Sourcing

**Дата:** 2025-04-06  
**Участники:** Архитектор, Senior Backend Developer, DevOps Engineer

## Статус

Принято  
_2025-04-06_

## Контекст

Система активно использует паттерны CQRS и Event Sourcing — необходимо выбрать фреймворки, которые помогут реализовать их эффективно и безопасно.

## Варианты решения

1. **Axon Framework / Lagom**
   - ✅ _Плюсы_: Готовые реализации CQRS и ES
   - ❌ _Минусы_: Vendor lock-in, ограниченная поддержка
2. **Custom implementation**
   - ✅ _Плюсы_: Полный контроль
   - ❌ _Минусы_: Высокая трудоемкость, необходимость тестирования
3. **Eventuate + Kafka Streams**
   - ✅ _Плюсы_: Хорошая интеграция с Kafka
   - ❌ _Минусы_: Сложность лицензирования

## Решение

**Выбранный вариант:** Custom implementation с использованием Kafka Streams  
**Обоснование:** Система имеет специфические бизнес-требования, поэтому выгоднее собственная реализация поверх Apache Kafka.

## Последствия

- **Положительные:** Гибкость и соответствие доменной логике
- **Отрицательные:** Необходимо обучение команды
- **Риски:** Возможно дублирование усилий
