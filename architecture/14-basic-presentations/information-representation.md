## Информационное представление

### ER-диаграмма доменной модели

```mermaid
erDiagram
    USER ||--o{ WORKOUT : "has"
    USER ||--o{ ACHIEVEMENT : "unlocked"
    USER ||--o{ NOTIFICATION_PREFERENCE : "configures"
    USER ||--o{ RECOMMENDATION : "receives"

    WORKOUT ||--o{ SENSOR_DATA : "contains"
    WORKOUT }|--|| SPORT_TYPE : "is of type"

    GROUP ||--o{ USER_GROUP : "contains"
    GROUP }|--|| SPORT_TYPE : "for sport"

    LEADERBOARD ||--o{ USER_LEADERBOARD : "contains"

    PROMOTION ||--o{ USER_PROMOTION : "assigned to user"

    USER ||--o{ MARKETING_METRIC : "participates in campaigns"

    RECOMMENDATION }|--|| MODEL_VERSION : "generated by"
```

### Особенности реализации:

- **Пользовательские данные** хранятся в **PostgreSQL** (ACID, транзакции), включая профиль, сессии, роли.
- **Тренировки** хранятся в **PostgreSQL (запись)** и **MongoDB (чтение)** — разделение по CQRS.
- **Лидерборды** — в **ClickHouse** для быстрого анализа и агрегаций.
- **События и логи** — в **Apache Kafka** для event sourcing и replay.
- **AI модели и фичи** — в **S3 + Delta Lake** для версионирования данных и обучения.
- Все PII-данные шифруются (AES-256) перед сохранением.
