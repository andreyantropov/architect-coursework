# –ë–∞–∑–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Å—Ç–µ–∫

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å–ª–æ–∏:

1. **–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å:**
   - –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (React Native)
   - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (React + Next.js)
2. **–°–µ—Ç–µ–≤–æ–π —É—Ä–æ–≤–µ–Ω—å:**
   - API Gateway (–≤–Ω–µ—à–Ω–∏–π –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π)
   - CDN –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏
3. **–°–µ—Ä–≤–∏—Å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å:**
   - –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã (Go, Python)
4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å:**
   - Event Bus (Apache Kafka)
   - Message Queue (NATS JetStream)
5. **–£—Ä–æ–≤–µ–Ω—å —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:**
   - PostgreSQL, MongoDB, ClickHouse, Redis, S3, Delta Lake
6. **AI/ML —É—Ä–æ–≤–µ–Ω—å:**
   - PyTorch, XGBoost, FastAPI, Lambda, MLflow
7. **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å:**
   - Kubernetes, Docker, Terraform, OpenTelemetry, ELK, Grafana

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

| –°–µ—Ä–≤–∏—Å                      | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                  | –¢–∏–ø –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã          |
| --------------------------- | ------------------------------------------- | ------------------------ |
| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è–º–∏, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, —Å–µ—Å—Å–∏–∏   | –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å              |
| –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (Core Domain)    | –ó–∞–ø–∏—Å—å, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫       | –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å + CQRS       |
| –°–æ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è | –ì—Ä—É–ø–ø—ã, —á–∞—Ç—ã, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è                    | –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å              |
| –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ –ø—Ä–æ–º–æ–∞–∫—Ü–∏–∏   | –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –ø—Ä–æ–º–æ–∫–æ–¥—ã   | –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å + Serverless |
| –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫        | –õ–∏–¥–µ—Ä–±–æ—Ä–¥—ã, —Å—Ä–∞–≤–Ω–µ–Ω–∏—è, –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ      | –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å + CQRS       |
| –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞     | –ö–æ–Ω–≤–µ—Ä—Å–∏–∏, A/B —Ç–µ—Å—Ç—ã, —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è           | –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å              |
| –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è                 | Push, email, SMS, –≤–Ω—É—Ç—Ä–∏–ø—Ä–∏–ª–æ–∂–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è | –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å + Serverless |
| AI Engine                   | –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π, –∏–Ω—Ñ–µ—Ä–µ–Ω—Å, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏    | –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å + Serverless |

---

## **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∏ –ø–æ–¥—Ö–æ–¥—ã**

### –û—Å–Ω–æ–≤–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:

- **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (MSA):**

  - –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å ‚Äî –æ—Ç–¥–µ–ª—å–Ω–æ–µ deployable-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π, –¥–∞–Ω–Ω—ã–º–∏ –∏ CI/CD.
  - –ù–µ–∑–∞–≤–∏—Å–∏–º–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ, –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤ –±–µ–∑ –≤–ª–∏—è–Ω–∏—è –Ω–∞ –¥—Ä—É–≥–∏–µ —á–∞—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã.
  - –ü—Ä–∏–Ω—Ü–∏–ø Single Responsibility: –∫–∞–∂–¥—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å —Ä–µ—à–∞–µ—Ç –æ–¥–Ω—É –∑–∞–¥–∞—á—É.

- **Domain-Driven Design:**

  - –î–æ–º–µ–Ω–Ω–∞—è –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è: –≤—ã–¥–µ–ª–µ–Ω–∏–µ bounded contexts (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞).
  - –ß—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ core domain (–∫–ª—é—á–µ–≤–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞) –∏ supporting domains (–≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ).

- **Event-Driven Architecture:**

  - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —á–µ—Ä–µ–∑ Apache Kafka –∏ NATS JetStream.
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏—Å—Ç–∏–Ω—ã (event sourcing), –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
  - CQRS –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–æ–≤ —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏.

- **DevOps & GitOps:**

  - –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞–∫ –∫–æ–¥ (IaC) —á–µ—Ä–µ–∑ Terraform –∏ Helm.
  - –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ pipeline —á–µ—Ä–µ–∑ GitLab CI –∏ ArgoCD.
  - Immutable infrastructure –∏ zero-downtime deployment.

- **–û–±—Å–ª—É–∂–∏–≤–∞–µ–º–æ—Å—Ç—å –∏ –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å:**

  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, –º–µ—Ç—Ä–∏–∫–∏ –∏ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ —Ä–µ–∞–ª–∏–∑—É—é—Ç—Å—è –≤ –∫–∞–∂–¥–æ–º —Å–µ—Ä–≤–∏—Å–µ.
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ OpenTelemetry, Prometheus, Loki, Jaeger.

- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å "–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é":**
  - mTLS –º–µ–∂–¥—É –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏.
  - –í—Å–µ –¥–∞–Ω–Ω—ã–µ —à–∏—Ñ—Ä—É—é—Ç—Å—è (–Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è).
  - –°–æ–±–ª—é–¥–µ–Ω–∏–µ GDPR –∏ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø–µ–Ω—Ç–µ—Å—Ç—ã.

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (MSA)

- –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –∏–º–µ–µ—Ç **–æ—Ç–¥–µ–ª—å–Ω—É—é –±–∞–∑—É (–±–∞–∑—ã) –¥–∞–Ω–Ω—ã—Ö**, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
  - –ò–∑–æ–ª—è—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö
  - –ì–∏–±–∫–æ—Å—Ç—å –≤ –≤—ã–±–æ—Ä–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
  - –ù–µ–∑–∞–≤–∏—Å–∏–º–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### Event-Driven Architecture

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Apache Kafka –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –±—Ä–æ–∫–µ—Ä —Å–æ–±—ã—Ç–∏–π
- NATS JetStream ‚Äî –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
- –ü–∞—Ç—Ç–µ—Ä–Ω—ã:
  - **Event Sourcing** –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏)
  - **CQRS** –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏ (—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞)
  - **Pub/Sub** –¥–ª—è –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

### CQRS

- –ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

```mermaid
graph LR
    A[Command Side] -->|write| B[(PostgreSQL)]
    B --> C[Event Bus]
    C --> D[Read Side]
    D --> E[(ClickHouse)]
    D --> F[(Redis Cache)]
```

### Multi-Region —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

```mermaid
graph TD
    A[–¶–û–î-1] -->|Geo-replication| B[–¶–û–î-2]
    A -->|Async backup| C[–¶–û–î-3]
    D[CDN: CloudFront+Cloudflare] --> A
    D --> B
    D --> C
```

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **DMZ –∑–æ–Ω–∞:**

  - External API Gateway
  - CDN + —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
  - –ö—ç—à–∏—Ä—É—é—â–∏–µ –ø—Ä–æ–∫—Å–∏

- **Internal Network:**

  - Internal API Gateway (mTLS)
  - –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã
  - –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

- **–ú–µ—Ä—ã:**
  - TLS 1.3
  - –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ PII
  - 2FA
  - SIEM
  - GDPR-–∫–æ–º–ø–ª–∞–µ–Ω—Å

---

## –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ –∏—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

| –ê—Ç—Ä–∏–±—É—Ç –∫–∞—á–µ—Å—Ç–≤–∞           | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è                                                  |
| -------------------------- | ----------------------------------------------------------- |
| **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**             | –ì–æ—Ä—è—á–∏–π —Ä–µ–∑–µ—Ä–≤, RTO ‚â§ 15 –º–∏–Ω, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ |
| **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**       | Kubernetes, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è, —à–∞—Ä–¥–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö                 |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**     | Caching (Redis), CDN, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤, AI-—É—Å–∫–æ—Ä–∏—Ç–µ–ª–∏   |
| **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**           | mTLS, 2FA, —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ, SIEM, —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø–µ–Ω—Ç–µ—Å—Ç—ã            |
| **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**          | RESTful API, SDK –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤                    |
| **–£–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** | Offline-—Ä–µ–∂–∏–º, –≥–æ–ª–æ—Å–æ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π UI          |
| **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å**       | CI/CD, —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è                  |

---

## –ê–¥—Ä–µ—Å–∞—Ü–∏—è –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –∫–∞—á–µ—Å—Ç–≤–∞

| –ê—Ç—Ä–∏–±—É—Ç –∫–∞—á–µ—Å—Ç–≤–∞       | –£—Ä–æ–≤–µ–Ω—å –≤–∞–∂–Ω–æ—Å—Ç–∏ | –°–µ—Ä–≤–∏—Å—ã, –≤–ª–∏—è—é—â–∏–µ –Ω–∞ –Ω–µ–≥–æ     | –ú–µ—Ö–∞–Ω–∏–∑–º—ã –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è                           |
| ---------------------- | ---------------- | ----------------------------- | ----------------------------------------------- |
| **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**         | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π      | –í—Å–µ core-—Å–µ—Ä–≤–∏—Å—ã              | –†–µ–ø–ª–∏–∫–∞—Ü–∏—è, —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥          |
| **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**       | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π      | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, AI, –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è | –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ, 2FA, SIEM, –∞—É–¥–∏—Ç                    |
| **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**   | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π      | –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã                   | –ü–æ–∫—Ä—ã—Ç–∏–µ MVP, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, CI/CD               |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | –í—ã—Å–æ–∫–∏–π          | –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –ê–Ω–∞–ª–∏—Ç–∏–∫–∞         | Caching, CDN, CQRS                              |
| **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**   | –í—ã—Å–æ–∫–∏–π          | –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã                   | Kubernetes, sharding, autoscaling               |
| **–†–µ–∑—É–ª—å—Ç–∞—Ç–∏–≤–Ω–æ—Å—Ç—å**   | –í—ã—Å–æ–∫–∏–π          | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏, AI, –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥   | –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è, A/B —Ç–µ—Å—Ç—ã, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞            |
| **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**      | –°—Ä–µ–¥–Ω–∏–π          | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –°–æ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è     | REST API, SDK, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Apple Health –∏ —Ç.–¥. |
| **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å**        | –ë–∞–∑–æ–≤—ã–π          | –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã                   | WCAG 2.1, screen reader support                 |
| **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å**   | –ë–∞–∑–æ–≤—ã–π          | –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã                   | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, CI/CD, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥                 |

---

## –î–∏–∞–≥—Ä–∞–º–º–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

```mermaid
graph TD
    subgraph DMZ
        A[External API Gateway] --> B[CDN/–§—Ä–æ–Ω—Ç–µ–Ω–¥]
        A --> C[Analytics API Gateway]
        A --> D[–ö—ç—à–∏—Ä—É—é—â–∏–π –ø—Ä–æ–∫—Å–∏]
    end

    subgraph Internal Network
        E[Internal API Gateway] --> F[–°–µ—Ä–≤–∏—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π]
        E --> G[–°–µ—Ä–≤–∏—Å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫]
        E --> H[–°–µ—Ä–≤–∏—Å —Å–æ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏]
        E --> I[–°–µ—Ä–≤–∏—Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π]
        C --> J[–°–µ—Ä–≤–∏—Å –∞–Ω–∞–ª–∏—Ç–∏–∫–∏]
        C --> K[–°–µ—Ä–≤–∏—Å –º–∞—Ä–∫–µ—Ç.–∞–Ω–∞–ª–∏—Ç–∏–∫–∏]
        E --> L[–°–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π]

        F --> M[(–†–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –ë–î)]
        G --> N[(–†–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –ë–î)]
        G --> O[(–î–æ–∫—É–º–µ–Ω—Ç–æ–æ—Ä. –ë–î)]
        H --> P[(–ì—Ä–∞—Ñ–æ–≤–∞—è –ë–î)]
        I --> Q[(–î–æ–∫—É–º–µ–Ω—Ç–æ–æ—Ä. –ë–î)]
        J --> R[(–ö–æ–ª–æ–Ω–æ—á–Ω–∞—è –ë–î)]
        K --> S[(ClickHouse)]
        L --> T[(–†–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –ë–î)]
        L --> U[Redis]

        V[AI Engine] --> W[Feature Store]
        V --> X[Model Registry]
        V --> Y[Batch Inference]
        V --> Z[Real-time API]
    end

    AA[Event Bus] --> F
    AA --> G
    AA --> H
    AA --> I
    AA --> J
    AA --> K
    AA --> L
    AA --> V

    AB[–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ] --> A
    AC[–í–µ–±-–∞–¥–º–∏–Ω–∫–∞] --> B
    AD[–í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã] --> A
    AE[–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –∫–ª–∏–µ–Ω—Ç—ã] --> C
    AF[–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥-–∫–æ–º–∞–Ω–¥–∞] --> K
```

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç          | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                               | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏                             |
| ------------------ | ---------------------------------------- | --------------------------------------- |
| **–ü–ª–∞—Ç–µ–∂–∏**        | –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫, –ø–æ–∫—É–ø–æ–∫              | –ß–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–π API –≤ DMZ                 |
| **–§–∏—Ç–Ω–µ—Å-–≥–∞–¥–∂–µ—Ç—ã** | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å wearable-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏       | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ OAuth, API —á–µ—Ä–µ–∑ DMZ          |
| **–°–æ—Ü—Å–µ—Ç–∏**        | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Å–æ—Ü—Å–µ—Ç–∏, share-—Ñ—É–Ω–∫—Ü–∏–∏ | –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ DMZ                 |
| **CRM**            | –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö          | –ß–µ—Ä–µ–∑ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–π API                 |
| **CDN**            | –†–∞–∑–¥–∞—á–∞ —Å—Ç–∞—Ç–∏–∫–∏                          | CloudFront + Cloudflare —Å –≥–µ–æ-—Ä–æ—É—Ç–∏–Ω–≥–æ–º |

---

## AI/ML Stack

### Data Pipeline:

```mermaid
graph LR
    A[Kafka] --> B[S3]
    B --> C[Spark]
    C --> D[Feature Store]
    D --> E[MLflow]
    E --> F[PyTorch/XGBoost]
    F --> G[TensorFlow Serving]
    G --> H[Lambda]
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Event Bus:

- –°–æ–±—ã—Ç–∏—è `WorkoutCompleted` ‚Üí –∑–∞–ø—É—Å–∫ –º–æ–¥–µ–ª–∏ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –°–æ–±—ã—Ç–∏—è `UserMetricsUpdated` ‚Üí –ø–µ—Ä–µ—Å—á–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

---

## Deployment & DevOps

| –≠—Ç–∞–ø                 | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã                                 |
| -------------------- | ------------------------------------------- |
| CI/CD                | GitLab CI, ArgoCD                           |
| –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è          | Kubernetes                                  |
| IaC                  | Terraform                                   |
| –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥           | Prometheus + Grafana, OpenTelemetry, Loki   |
| –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ          | ELK Stack (Elasticsearch, Logstash, Kibana) |
| –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞          | Jaeger, OpenTelemetry                       |
| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞–º–∏ | HashiCorp Vault                             |

---

## –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –±–∏–∑–Ω–µ—Å-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –∏ –ù–§–¢

| –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª                                 | –°–µ—Ä–≤–∏—Å                      | –ê—Ç—Ä–∏–±—É—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞, –ø–æ–∫—Ä—ã—Ç—ã–µ —ç—Ç–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º           |
| ------------------------------------------ | --------------------------- | ------------------------------------------------------ |
| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏                  | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å             |
| –•—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫               | –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏                  | –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å, –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å       |
| –ß–∞—Ç—ã, –≥—Ä—É–ø–ø—ã, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è                   | –°–æ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è                | –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å, —É–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è                  |
| –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –∏ –ø—Ä–æ–º–æ–∫–æ–¥—ã | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏                | –†–µ–∑—É–ª—å—Ç–∞—Ç–∏–≤–Ω–æ—Å—Ç—å, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å                     |
| –õ–∏–¥–µ—Ä–±–æ—Ä–¥—ã, –ø—Ä–æ–≥–Ω–æ–∑—ã, —Å—Ä–∞–≤–Ω–µ–Ω–∏—è            | –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫        | –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Ç–æ—á–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö                    |
| A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è              | –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞     | –†–µ–∑—É–ª—å—Ç–∞—Ç–∏–≤–Ω–æ—Å—Ç—å, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å                     |
| –û—Ç–ø—Ä–∞–≤–∫–∞ push/email/SMS                    | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è                 | –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å, –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å, —É–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è        |
| –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è, –ø—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞     | AI Engine                   | –†–µ–∑—É–ª—å—Ç–∞—Ç–∏–≤–Ω–æ—Å—Ç—å, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å |

---

## **–ü–æ–ª–∏—Ç–∏–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏—è–º–∏ API**

### –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:

- **–¢–∏–ø—ã –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:**

  - URI versioning: `/api/v1/workouts`
  - Header-based versioning: `Accept: application/vnd.myapp.v1+json`
  - Query param: `?version=1`

- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏:**
  - –í–µ—Ä—Å–∏–∏ API –Ω–µ –¥–æ–ª–∂–Ω—ã –ª–æ–º–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤.
  - –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å deprecated, –Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.
  - –ú–µ—Ö–∞–Ω–∏–∑–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.

### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª API:

| –°—Ç–∞—Ç—É—Å     | –û–ø–∏—Å–∞–Ω–∏–µ                                                 |
| ---------- | -------------------------------------------------------- |
| Active     | –¢–µ–∫—É—â–∞—è –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è API                            |
| Deprecated | –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é |
| Sunsetted  | –ë–æ–ª–µ–µ –Ω–µ –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç—Å—è, –¥–æ—Å—Ç—É–ø –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω      |

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

- –ü—É–±–ª–∏–∫–æ–≤–∞—Ç—å OpenAPI/Swagger —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.
- –í–µ—Å—Ç–∏ changelog –∏–∑–º–µ–Ω–µ–Ω–∏–π API.
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å SDK –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –∏ –≤–µ–±-–∫–ª–∏–µ–Ω—Ç–æ–≤.

---

## **–°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã**

–ß—Ç–æ–±—ã –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã —Å–æ–±–ª—é–¥–∞–ª–∏ –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–ø–∏—Å–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –æ–±—â–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏.

### –û–±—â–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã:

- **–§–æ—Ä–º–∞—Ç –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:**

  - –ï–¥–∏–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ (`cmd`, `pkg`, `internal`, `api`, `migrations`).
  - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–ª–æ—ë–≤: handler ‚Üí service ‚Üí repository.

- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**

  - –§–æ—Ä–º–∞—Ç JSON —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏: `timestamp`, `level`, `service`, `caller_service`, `trace_id`, `correlation_id`, `span_id`.
  - –õ–æ–≥–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ ELK Stack –∏ Loki.

- **–ú–µ—Ç—Ä–∏–∫–∏ –∏ —Ç—Ä–µ–π—Å—ã:**

  - –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç `/metrics` –∏ `/healthcheck` endpoint'—ã.
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ OpenTelemetry –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏.

- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**

  - –ï–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –æ–± –æ—à–∏–±–∫–∞—Ö:
    ```json
    {
      "error": "validation_failed",
      "message": "Invalid email format",
      "code": 400,
      "details": { ... }
    }
    ```
  - HTTP-—Å—Ç–∞—Ç—É—Å—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å REST-—Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º–∏.

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**

  - README –≤ –∫–∞–∂–¥–æ–º —Å–µ—Ä–≤–∏—Å–µ.
  - Swagger/OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏.
  - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –≤ –≤–∏–¥–µ ADR.

- **Docker –∏ Helm:**
  - –®–∞–±–ª–æ–Ω–Ω—ã–µ Dockerfile –∏ Helm charts –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.
  - –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–±—Ä–∞–∑–∞, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ multi-stage build.

---

## **–ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö (Data Model)**

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏:

#### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (`User`)

```json
{
  "id": "uuid",
  "email": "string",
  "first_name": "string",
  "last_name": "string",
  "created_at": "datetime",
  "last_login": "datetime"
}
```

#### –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ (`Workout`)

```json
{
  "id": "uuid",
  "user_id": "uuid",
  "start_time": "datetime",
  "end_time": "datetime",
  "duration_sec": "int",
  "calories_burned": "float",
  "sport_type": "enum",
  "coordinates": "array<latlng>",
  "device": "string"
}
```

#### –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è (`Achievement`)

```json
{
  "id": "uuid",
  "type": "string",
  "user_id": "uuid",
  "achieved_at": "datetime",
  "progress": "float"
}
```

#### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (`Notification`)

```json
{
  "id": "uuid",
  "user_id": "uuid",
  "title": "string",
  "body": "string",
  "read": "boolean",
  "channel": "push/email/sms/in_app",
  "sent_at": "datetime"
}
```

### –°–≤—è–∑–∏:

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üî –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (1:N)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üî –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è (1:N)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (1:N)

### –•—Ä–∞–Ω–∏–ª–∏—â–∞:

| –°–µ—Ä–≤–∏—Å               | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö          | –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö                          |
| -------------------- | -------------------- | ----------------------------------- |
| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏         | PostgreSQL           | –†–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ                  |
| –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏           | PostgreSQL + MongoDB | –î–µ—Ç–∞–ª–∏ + –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã                 |
| –°–æ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è         | Neo4j                | –ì—Ä–∞—Ñ–æ–≤—ã–µ —Å–≤—è–∑–∏ (—á–∞—Ç—ã, –≥—Ä—É–ø–ø—ã)       |
| –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ | ClickHouse           | OLAP-–∑–∞–ø—Ä–æ—Å—ã                        |
| –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è          | Redis + PostgreSQL   | –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ + –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ |

### –ü–æ–ª–∏—Ç–∏–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏:

- **–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª:**

  - –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Äî –±–µ—Å—Å—Ä–æ—á–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ.
  - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ ‚Äî TTL 6 –º–µ—Å—è—Ü–µ–≤.
  - –õ–æ–≥–∏ –∏ —Å–æ–±—ã—Ç–∏—è ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ 90 –¥–Ω–µ–π.

- **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:**

  - –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±—ç–∫–∞–ø –≤ S3 —á–µ—Ä–µ–∑ WAL-G.
  - –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π.

- **GDPR –∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å:**
  - PII-–¥–∞–Ω–Ω—ã–µ —à–∏—Ñ—Ä—É—é—Ç—Å—è –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º.
  - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –æ—á–∏—Å—Ç–∫–æ–π –≤—Å–µ—Ö –µ–≥–æ –¥–∞–Ω–Ω—ã—Ö.

---

# –ê–≥—Ä–µ–≥–∞—Ç—ã (–Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —Å–µ—Ä–≤–∏—Å–∞ "–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏")

**–ê–≥—Ä–µ–≥–∞—Ç:** `Workout`

### –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ (Command Side):

#### –ö–æ–º–∞–Ω–¥—ã:

- **StartWorkout** ‚Äî –Ω–∞—á–∞—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É.
- **UpdateWorkout** ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏–ª–∏ –ø—É–ª—å—Å).
- **PauseWorkout** ‚Äî –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É.
- **ResumeWorkout** ‚Äî –≤–æ–∑–æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—É—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É.
- **CompleteWorkout** ‚Äî –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É.
- **CancelWorkout** ‚Äî –æ—Ç–º–µ–Ω–∏—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É.

#### –°–æ–±—ã—Ç–∏—è:

- **WorkoutStarted** ‚Äî —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –Ω–∞—á–∞—Ç–∞.
- **WorkoutUpdated** ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏.
- **WorkoutPaused** ‚Äî —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞.
- **WorkoutResumed** ‚Äî —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∞.
- **WorkoutCompleted** ‚Äî —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.
- **WorkoutCancelled** ‚Äî —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞.

---

### –°—Ç–æ—Ä–æ–Ω–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ (Query Side):

#### Read Models:

- **WorkoutSummary** ‚Äî –∫—Ä–∞—Ç–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ: ID, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, —Ç–∏–ø —Å–ø–æ—Ä—Ç–∞, –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞/–æ–∫–æ–Ω—á–∞–Ω–∏—è, –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –ø–æ—Ç—Ä–∞—á–µ–Ω–Ω—ã–µ –∫–∞–ª–æ—Ä–∏–∏.
- **WorkoutDetails** ‚Äî –ø–æ–¥—Ä–æ–±–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ: –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, –ø—É–ª—å—Å, –≤—ã—Å–æ—Ç–∞, —Ç–µ–º–ø, –º–∞—Ä—à—Ä—É—Ç—ã, —Ç–µ–≥–∏.
- **WorkoutList** ‚Äî —Å–ø–∏—Å–æ–∫ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞ –ø–µ—Ä–∏–æ–¥.
- **WorkoutStats** ‚Äî –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –æ–±—â–µ–µ –≤—Ä–µ–º—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, —Å—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å, —Ä–µ–∫–æ—Ä–¥—ã, –Ω–µ–¥–µ–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å.
- **WorkoutRouteMap** ‚Äî –º–∞—Ä—à—Ä—É—Ç —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –≤ –≤–∏–¥–µ –≥–µ–æ–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (–¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –∫–∞—Ä—Ç–µ).

#### –ó–∞–ø—Ä–æ—Å—ã:

- **GetWorkoutSummary** ‚Äî –ø–æ–ª—É—á–∏—Ç—å –∫—Ä–∞—Ç–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.
- **GetWorkoutDetails** ‚Äî –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.
- **GetWorkoutList** ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- **GetWorkoutStats** ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- **GetWorkoutRouteMap** ‚Äî –ø–æ–ª—É—á–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –∫–∞—Ä—Ç–µ.

---

### –ü—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö:

#### üìå `WorkoutStarted` (—Å–æ–±—ã—Ç–∏–µ)

```json
{
  "event_id": "uuid",
  "type": "WorkoutStarted",
  "timestamp": "2025-04-05T15:00:00Z",
  "data": {
    "workout_id": "uuid",
    "user_id": "uuid",
    "sport_type": "running",
    "start_time": "2025-04-05T15:00:00Z",
    "location": {
      "latitude": 55.7558,
      "longitude": 37.6173
    },
    "device_model": "Apple Watch Series 9"
  }
}
```

#### üìå `WorkoutUpdated` (—Å–æ–±—ã—Ç–∏–µ)

```json
{
  "event_id": "uuid",
  "type": "WorkoutUpdated",
  "timestamp": "2025-04-05T15:15:00Z",
  "data": {
    "workout_id": "uuid",
    "current_distance_meters": 1200,
    "avg_heart_rate": 140,
    "current_speed": 4.5
  }
}
```

#### üìå `WorkoutCompleted` (—Å–æ–±—ã—Ç–∏–µ)

```json
{
  "event_id": "uuid",
  "type": "WorkoutCompleted",
  "timestamp": "2025-04-05T15:45:00Z",
  "data": {
    "workout_id": "uuid",
    "end_time": "2025-04-05T15:45:00Z",
    "duration_sec": 2700,
    "distance_meters": 5200,
    "calories_burned": 320,
    "route_coordinates": [
      { "lat": 55.7558, "lon": 37.6173 },
      { "lat": 55.7560, "lon": 37.6180 },
      ...
    ]
  }
}
```

---

### –°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ —á–µ—Ä–µ–∑ Event Bus:

| –°–æ–±—ã—Ç–∏–µ          | –°–µ—Ä–≤–∏—Å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è       | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ                                 |
| ---------------- | ----------------------- | --------------------------------------------- |
| WorkoutStarted   | –°–æ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è            | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–µ–Ω—Ç—ã –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è        |
| WorkoutCompleted | –ê–Ω–∞–ª–∏—Ç–∏–∫–∞               | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–æ–≤, —Ä–∞—Å—á–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑–∞       |
| WorkoutCompleted | AI Engine               | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π    |
| WorkoutUpdated   | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è             | –û—Ç–ø—Ä–∞–≤–∫–∞ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–∏ |
| WorkoutTagAdded  | –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ | –û–±–æ–≥–∞—â–µ–Ω–∏–µ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è           |
